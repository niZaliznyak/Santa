<script>
let nUsers = +prompt("Введите кол-во участников", 3); 

let givers = [];

for(i = 0; i < nUsers; i++){
  givers.push(prompt(`Введите имя участника #${i+1}`));
  while(givers[i] == "" || givers[i] <= null){
    givers[i] = prompt("Введите имя участника");
  }
}

console.log('Все участники: ',givers);

let rest = givers.slice();

for(i = 0; i < nUsers; i++){
  console.log("Раунд:", i+1, " --------------------");
  console.log('Даритель: ', givers[i]);

  let elves = rest.slice();

  elves = elves.filter((item) => item != givers[i]);
      
  let partner = prompt(`${givers[i]}, если есть необходимость, введите имя кого исключить`);
    if (partner != ""){
      elves = elves.filter((item) => item != partner);
    }

  console.log('Возможные получатели: ', elves);

  alert(`${givers[i]}, сейчас вы узнаете, кому будете дарить подарок (убедитесь, что никто этого не видит)`);

  let winer = elves[Math.floor(Math.random()*elves.length)].slice();

  console.log(`Вы дарите подарок ${winer}!`);
  alert(`Вы дарите подарок ${winer}!`);

  rest = rest.filter((item) => item != winer);
}
  alert("Игра окончена! Счастливых праздников!");

</script>
